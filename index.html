<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DV2</title>

  <!-- Pure.css grid -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/pure-min.css">
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/grids-responsive-min.css">

  <!-- Vega libraries (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@6.0.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.23.0"></script>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700;800;900&display=swap" rel="stylesheet">

  <!-- Your CSS -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="page">
    <!-- HERO -->
    <div class="pure-g">
      <div class="pure-u-1">
        <header class="hero">
          <div class="hero-eyebrow">From Plates to Patterns</div>
          <h1 class="hero-title">
            Insights from Food Ratings and F&amp;B Business Data across
            <span class="accent">Malaysia</span>
          </h1>
          <p class="hero-subtitle">Comparing reviews and growth of F&amp;B sectors</p>
        </header>
      </div>
    </div>

    <!-- MAP CARD -->
    <div class="pure-g">
      <div class="pure-u-1">
        <article class="card unified" aria-labelledby="story-title">
          <header class="storytelling">
            <h2 id="story-title">Mapping Malaysia’s Culinary Landscape</h2>
            <p>This map shows 281 food businesses across Malaysia. Kuala Lumpur,</p>
            <p>Selangor, and Penang lead with dense clusters. Johor and Melaka </p>
            <p>showcase rich heritage and cross-border flavours. East Malaysia’s Sabah and</p>
            <p>Sarawak show emerging growth. From Penang’s hawker stalls to </p>
            <p>Sabah’s seaside cafes, these regions celebrate Malaysia’s diverse food and culture.</p>
            <p>Geography as well as economy shape where flavours come alive.</p>
            <p>Together, they form Malaysia’s vibrant, ever-evolving foodscape.</p>
            <ul class="insight-footnote">
            <p>* Each dot reflects passion and culinary entrepreneurship.</p>
            <p>* Use the legend to highlight dots of each region.</p>
            </ul>

          </header>

          <div id="fnb_map" class="story-map" aria-label="Map of F&amp;B businesses in Malaysia"></div>
        </article>
      </div>
    </div><!-- END MAP CARD GRID -->

      <!-- LOLLIPOP CHART + INSIGHTS (side-by-side cards) -->
    <div class="pure-g">
      <!-- LEFT: chart card (no title) -->
      <div class="pure-u-1 pure-u-md-2-3">
        <article class="card unified">
          <div class="block">
            <div id="avg_rating_chart" class="story-lollipop" aria-label="Where Are Ratings Highest?"></div>
          </div>
        </article>
      </div>
    
      <!-- RIGHT: new insights card (title lives here) -->
      <div class="pure-u-1 pure-u-md-1-3">
        <article class="card unified insight-card" aria-labelledby="lollipop-insights">
          <div class="block">
            <h2 id="lollipop-insights" class="insight-title">Where Are Ratings Highest?</h2>
            <ul class="insight-list">
              <p>Penang records the highest average food rating.</p>
              <p>Langkawi and Kuala Lumpur follow closely.</p>
              <p>All locations score above 4.0, showing strong culinary standards nationwide.</p>
              <p>These results highlight Malaysia’s consistent commitment to quality dining, where each region contributes to a diverse and flavourful landscape that continues to impress locals and visitors alike.</p>
            </ul>
          </div>
        </article>
      </div>
    </div>

     <!-- STACKED BAR CHART + STORYTELLING -->
    <div class="pure-g">
      <div class="pure-u-1">
        <article class="card unified" aria-labelledby="stacked-title">
    
          <!-- CHART -->
          <div class="block">
            <div id="stacked_chart" class="story-stacked" aria-label="Category Mix by Location"></div>
          </div>
    
          <!-- STORYTELLING (below chart) -->
          <div class="pure-g storytelling-below">
            <div class="pure-u-1">
              <div class="block storytelling">
                <h2 id="stacked-title">Restaurant Ratings by Location</h2>
                <p>In Malaysia’s vibrant food scene, voices rise unevenly across the charts.</p>
                <p>Some states buzz with almost 50,000 reviews, while quieter regions whisper</p>
                <p>below the average line. Most storytellers speak kindly,</p>
                <p>offering 4-to-5-star praises, painting a landscape of overall satisfaction.</p>
                <ul class="insight-footnote">
                  <p>* Hover over legend items to isolate a category.</p>
                  <p>* Use the dropdown filter to filter by rating.</p>
                </ul>
              </div>
            </div>
          </div>
    
        </article>
      </div>
    </div>

    <!-- RADIAL (text left, chart right) -->
    <div class="pure-g map-radial-row">
      <!-- LEFT: storytelling text -->
      <div class="pure-u-1 pure-u-md-1-2">
        <article class="card unified" aria-labelledby="radial-title">
          <div class="block storytelling">
            <h2 id="radial-title">Size range of Malaysia’s F&B Businesses</h2>
            <p>Malaysia’s F&B scene is buzzing!</p>
            <p>From local cafes and dessert bars,</p>
            <p>small players bring flavour and flair.</p>
            <p>Mid-sized spots keep the pace sizzling,</p>
            <p>while International food chians</p>
            <p>spice things up nationwide.</p>
            <p>Each slice adds its own taste to Malaysia’s</p>
            <p>very own culinary story.</p>
          </div>
        </article>
      </div>
    
      <!-- RIGHT: radial chart -->
      <div class="pure-u-1 pure-u-md-1-2">
        <article class="card unified">
          <div class="block">
            <div id="radial_fnb" class="story-radial" aria-label="Radial chart of F&amp;B categories by presence and rating"></div>
          </div>
        </article>
      </div>
    </div>

    <!-- DUAL-AXIS CHART + STORYTELLING -->
    <div class="pure-g">
      <div class="pure-u-1">
        <article class="card unified" aria-labelledby="dualaxis-title">
          <header class="storytelling">
            <h2 id="dualaxis-title">Ratings vs. Reviews: Do Popular Places Rate Higher?</h2>
            <p>This dual-axis chart compares each location’s average food rating (line) against its total
            number of reviews (bars). States with strong review volume and high ratings indicate
            broad appeal and consistent quality, while places with fewer reviews but high scores
            may be hidden gems awaiting discovery.</p>
            <p>Use it to spot standout regions where buzz and satisfaction rise together—and those
            where popularity outpaces sentiment.</p>
          </header>
    
          <!-- Chart container -->
          <div id="dualaxis_chart" class="story-dualaxis"
               aria-label="Dual-axis chart of average rating (line) and total reviews (bars) by location">
          </div>
        </article>
      </div>
</div>

  <!-- Visualisations (place scripts BEFORE closing body) -->
  <script src="stacked_barchart.js"></script>
  <script src="jittered_map.js"></script>
  <script src="radial_chart.js"></script>
  <script src="lollipop_chart.js"></script>
  <script src="dualaxis_chart.js"></script>
</body>
</html>
